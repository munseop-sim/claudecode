# 쿠버네티스/도커 학습 계획 📚

> **참고 도서**: [컨테이너 인프라 환경 구축을 위한 쿠버네티스/도커](http://www.yes24.com/Product/Goods/102099414)

## 📖 현재 디렉토리 구성

### 주요 목적
- 쿠버네티스 클러스터 구성 및 관리 학습
- 컨테이너 오케스트레이션 실습
- CI/CD 파이프라인 구축
- 모니터링 및 로깅 시스템 구성

### 디렉토리 구조
```
📁 현재 위치: /Users/munseopsim/workspace/study/claudecode/claudecode/book_sample_code/week1/Thu/
├── 📁 ch2/     # 테스트 환경 구성하기
├── 📁 ch3/     # 쿠버네티스 기본 개념 및 오브젝트
├── 📁 ch4/     # Docker 컨테이너 관리
├── 📁 ch5/     # Jenkins CI/CD 파이프라인
├── 📁 ch6/     # Prometheus & Grafana 모니터링
├── 📁 app/     # 부록 실습 (kubectl, 대시보드, kubespray 등)
└── 📁 docs/    # 학습 참고 문서
```

## 📋 각 챕터별 상세 내용

### 🔧 **CH1 - 새로운 인프라 환경이 온다** (이론)
> **디렉토리 없음** - 순수 이론 챕터
- 1.1 컨테이너 인프라 환경이란
  - 모놀리식 vs 마이크로서비스 아키텍처
  - 컨테이너 인프라 환경에 적합한 아키텍처
- 1.2 컨테이너 인프라 환경을 지원하는 도구
  - 도커, 쿠버네티스, 젠킨스, 프로메테우스/그라파나
- 1.3 새로운 인프라 환경의 시작

### 🛠️ **CH2 - 테스트 환경 구성하기**
- **2.1.3**: Vagrant 기본 설정 및 테스트
- **2.2.1**: VM 자동 설정 구성 (Vagrantfile)
- **2.2.2**: VM에 필요한 추가 패키지 자동 설치
- **2.2.3**: 다중 VM 환경 구성
- **2.3.3**: SuperPuTTY를 통한 다중 VM 접속 관리

### ⚙️ **CH3 - 쿠버네티스 핵심 개념**
#### 클러스터 구성
- **3.1.3**: 쿠버네티스 클러스터 구성 (마스터/워커 노드)
- **3.1.6**: 클러스터 구성 요소 검증 (kubelet, kube-proxy 등)

#### 기본 오브젝트 관리
- **3.2.4**: YAML 스펙을 통한 오브젝트 생성 (Pod, Deployment)
- **3.2.8**: Taint/Toleration을 통한 노드 자원 보호
- **3.2.10**: Rolling Update/Rollback 실습

#### 네트워킹 & 서비스
- **3.3.1**: NodePort 서비스로 외부 접속
- **3.3.2**: Ingress Controller를 통한 HTTP 라우팅
- **3.3.4**: MetalLB 로드밸런서 구성 (온프레미스 환경)
- **3.3.5**: HPA(Horizontal Pod Autoscaler) 자동 스케일링

#### 고급 오브젝트
- **3.4.1**: DaemonSet (모든 노드에 Pod 배포)
- **3.4.2**: ConfigMap (설정 데이터 관리)
- **3.4.3**: PV/PVC (영구 볼륨 관리)
- **3.4.4**: StatefulSet (상태 유지 애플리케이션)

### 🐳 **CH4 - Docker 컨테이너 관리**
#### 이미지 최적화
- **4.2.3**: Multi-stage build를 통한 이미지 최적화
- **4.3.1**: 기본 Dockerfile 작성 및 빌드
- **4.3.2**: Alpine Linux 기반 경량 이미지 생성
- **4.3.3**: Docker-in-Docker 환경 구성
- **4.3.4**: BuildKit을 활용한 최적화된 빌드

#### 레지스트리 관리
- **4.4.2**: 사설 Docker Registry 구성
- **4.4.3**: 커스텀 이미지를 쿠버네티스에서 사용

### 🚀 **CH5 - Jenkins CI/CD**
#### 배포 도구
- **5.2.2**: Kustomize를 통한 배포 관리
- **5.2.3**: Helm Chart 패키지 관리

#### Jenkins 구성
- **5.3.1**: Helm을 통한 Jenkins 설치 및 설정

#### CI/CD 파이프라인
- **5.4.1**: Freestyle Job으로 echo-ip 앱 배포
- **5.5.1**: 선언적 파이프라인 (Pipeline as Code)
- **5.5.2**: Slack 연동을 통한 배포 알림
- **5.5.3**: Git 기반 자동 배포 및 변경사항 추적

### 📊 **CH6 - 모니터링 시스템**
#### Prometheus 구성
- **6.2.1**: Helm을 통한 Prometheus 설치
- **6.2.3**: Service Discovery를 통한 메트릭 수집 자동화

#### Grafana 구성
- **6.4.1**: Grafana 설치 및 대시보드 구성

#### 알림 시스템
- **6.5.1**: AlertManager를 통한 알림 시스템 구성

### 📋 **APP - 부록 실습**
- **A.kubectl-more**: kubectl 효율적 사용법 (alias, 플러그인)
- **B.kube-dashboard**: 웹 기반 쿠버네티스 대시보드
- **C.kubespray**: Ansible 기반 자동 클러스터 구축
- **D.DeepDiveContainer**: 컨테이너 내부 구조 분석 (runc, namespace)

## 🗓️ **1달 완주 학습 계획**

### **📊 학습 범위 분석**
- **총 실습 섹션**: 46개
- **주요 챕터**: CH2~CH6 + 부록
- **예상 총 학습시간**: 120-150시간

### **🔗 의존성 관계**
#### 강한 의존성 (반드시 순서대로)
- **CH2 → CH3**: CH2에서 구축한 쿠버네티스 클러스터를 CH3에서 사용
- **CH3 → CH5**: 쿠버네티스 기본 개념 없이는 Jenkins의 쿠버네티스 배포 이해 어려움
- **CH3 → CH6**: Pod, Service 등 기본 오브젝트 이해 없이는 모니터링 대상 파악 불가

#### 부분적 의존성
- **CH4 → CH5**: Docker 이미지 빌드 지식이 CI/CD 파이프라인에서 활용
- **CH5 → CH6**: 배포된 애플리케이션을 모니터링하는 시나리오

#### 독립적 학습 가능
- **CH4**: Docker 자체는 독립적으로 학습 가능
- **APP 부록들**: 대부분 독립적 도구들

---

## 📅 **주차별 상세 일정**

### **1주차 (1~7일): 환경 구축 + 쿠버네티스 기초**
**목표**: 실습 환경 완성 및 쿠버네티스 핵심 개념 마스터

#### **Day 1-2: CH2 테스트 환경 구성**
- **1일차 (3-4시간)**
  - 1장 이론 정리 (1시간)
  - VirtualBox + Vagrant 설치
  - 2.1.3: Vagrant 기본 테스트
  - 2.2.1: VM 자동 설정 구성
- **2일차 (3-4시간)**
  - 2.2.2: 추가 패키지 설치
  - 2.2.3: 다중 VM 환경 구성
  - 2.3.3: SuperPuTTY 터미널 설정
  - **환경 검증 및 문제해결**

#### **Day 3-5: CH3 쿠버네티스 기초**
- **3일차 (4-5시간)**
  - 3.1.3: 쿠버네티스 클러스터 구성
  - 3.1.6: 구성 요소 기능 검증
  - 클러스터 상태 확인 및 트러블슈팅
- **4일차 (4-5시간)**
  - 3.2.4: YAML 스펙으로 오브젝트 생성
  - 3.2.8: Taint/Toleration 노드 보호
  - 3.2.10: Rolling Update/Rollback
- **5일차 (4-5시간)**
  - 3.3.1: NodePort 서비스
  - 3.3.2: Ingress 설정
  - 외부 접속 테스트 및 검증

#### **Day 6-7: CH3 고급 기능**
- **6일차 (4-5시간)**
  - 3.3.4: MetalLB 로드밸런서
  - 3.3.5: HPA 오토스케일링
  - 부하 테스트 실습
- **7일차 (4시간)**
  - 3.4.1: DaemonSet
  - 3.4.2: ConfigMap
  - **1주차 복습 및 정리**

**1주차 체크포인트**: ✅ 쿠버네티스 클러스터 완전 구동 + 기본 배포 가능

---

### **2주차 (8~14일): 쿠버네티스 심화 + Docker 마스터**

#### **Day 8-9: CH3 스토리지 & 상태관리**
- **8일차 (4-5시간)**
  - 3.4.3: PV/PVC 영구 볼륨
  - 스토리지 클래스 실습
  - 데이터 영속성 테스트
- **9일차 (4-5시간)**
  - 3.4.4: StatefulSet
  - 상태 유지 애플리케이션 배포
  - **CH3 종합 실습 프로젝트**

#### **Day 10-12: CH4 Docker 심화**
- **10일차 (4-5시간)**
  - Docker 기초 복습
  - 4.2.3: 컨테이너 용량 최적화
  - 4.3.1: 기본 이미지 빌드
- **11일차 (4-5시간)**
  - 4.3.2: Multi-stage 빌드
  - 4.3.3: Docker-in-Docker
  - 4.3.4: BuildKit 최적화
- **12일차 (4-5시간)**
  - 4.4.2: 사설 Docker Registry 구성
  - 4.4.3: 커스텀 이미지 배포
  - 이미지 보안 스캔

#### **Day 13-14: Docker 고급 & 실전 프로젝트**
- **13일차 (4시간)**
  - Dockerfile 베스트 프랙티스
  - 이미지 최적화 실습
  - 보안 설정 적용
- **14일차 (4시간)**
  - **실전 프로젝트**: 커스텀 앱 컨테이너화
  - **2주차 복습 및 중간 점검**

**2주차 체크포인트**: ✅ Docker 이미지 빌드/배포 완전 마스터

---

### **3주차 (15~21일): CI/CD 파이프라인 구축**

#### **Day 15-16: CH5 Jenkins 기초**
- **15일차 (4-5시간)**
  - 5.2.2: Kustomize 배포 도구
  - 5.2.3: Helm 패키지 관리
  - Helm Chart 작성 실습
- **16일차 (4-5시간)**
  - 5.3.1: Jenkins 설치 및 설정
  - Jenkins 초기 구성
  - 플러그인 설치 및 설정

#### **Day 17-18: CI/CD 파이프라인**
- **17일차 (5-6시간)**
  - 5.4.1: Freestyle Job 생성
  - Git 연동 설정
  - 빌드 자동화 구성
- **18일차 (5-6시간)**
  - Pipeline as Code 작성
  - Jenkinsfile 문법 학습
  - 다단계 빌드 파이프라인

#### **Day 19-21: GitOps & 고급 CI/CD**
- **19일차 (4-5시간)**
  - 5.5.1: 선언적 배포 환경
  - GitOps 워크플로우
  - ArgoCD 연동 (선택)
- **20일차 (4-5시간)**
  - 5.5.2: Slack 알림 연동
  - 5.5.3: 배포 변경사항 자동 비교
  - 모니터링 연동
- **21일차 (4시간)**
  - **종합 CI/CD 프로젝트**
  - **3주차 복습**

**3주차 체크포인트**: ✅ 완전 자동화된 CI/CD 파이프라인 구축

---

### **4주차 (22~30일): 모니터링 + 운영 + 심화**

#### **Day 22-24: CH6 모니터링 시스템**
- **22일차 (4-5시간)**
  - 6.2.1: Prometheus 설치
  - 메트릭 수집 설정
  - PromQL 기초 학습
- **23일차 (4-5시간)**
  - 6.2.3: Service Discovery
  - 커스텀 메트릭 추가
  - 수집 대상 확장
- **24일차 (4-5시간)**
  - 6.4.1: Grafana 설치
  - 대시보드 구성
  - 시각화 패널 생성

#### **Day 25-26: 알림 & 고급 모니터링**
- **25일차 (4-5시간)**
  - 6.5.1: AlertManager 구성
  - 알림 규칙 설정
  - Slack/Email 연동
- **26일차 (4시간)**
  - 로그 수집 (ELK Stack)
  - 종합 모니터링 대시보드
  - **모니터링 시스템 완성**

#### **Day 27-28: 부록 & 고급 도구**
- **27일차 (4시간)**
  - A.kubectl-more: kubectl 고급 활용
  - B.kube-dashboard: 웹 대시보드
- **28일차 (4시간)**
  - C.kubespray: 자동 클러스터 구축
  - D.DeepDiveContainer: 컨테이너 심화

#### **Day 29-30: 종합 정리 & 실전 프로젝트**
- **29일차 (6시간)**
  - **최종 프로젝트**: 전체 스택 통합
  - 마이크로서비스 앱 배포
  - CI/CD + 모니터링 연동
- **30일차 (4시간)**
  - 전체 복습 및 정리
  - 트러블슈팅 가이드 작성
  - **최종 점검**

---

## ⚡ **효율적 학습 팁**

### **시간 관리**
- **평일**: 3-4시간 (저녁 시간 활용)
- **주말**: 5-6시간 (오전/오후 집중)
- **총 시간**: 120-140시간

### **학습 방법**
1. **실습 우선**: 이론 20% + 실습 80%
2. **오류 대응**: 에러 발생시 즉시 해결 (시간 절약)
3. **문서화**: 매일 학습 내용 정리
4. **체크포인트**: 주별 목표 달성 확인

### **응급 계획** 🚨
- **지연시**: 부록(App) 섹션 선택적 스킵
- **막힘**: 온라인 커뮤니티 적극 활용
- **시간 부족**: 주말 추가 시간 투입

---

## 📚 **주요 명령어 체크리스트**

### 환경 구성
```bash
# Vagrant로 실습 환경 시작
vagrant up

# 클러스터 상태 확인
kubectl cluster-info

# 노드 목록 확인
kubectl get nodes
```

### 쿠버네티스 기본 오퍼레이션
```bash
# Pod 관리
kubectl get pods
kubectl describe pod <pod-name>
kubectl logs <pod-name>

# 서비스 관리
kubectl get services
kubectl expose pod <pod-name> --port=80

# 배포 관리
kubectl get deployments
kubectl scale deployment <deployment-name> --replicas=3
```

### 디버깅 및 트러블슈팅
```bash
# 클러스터 리소스 상태 확인
kubectl get all

# 이벤트 확인
kubectl get events

# 상세 정보 확인
kubectl describe <resource-type> <resource-name>
```

---

## 📈 **성공 지표**
- **1주차**: 쿠버네티스 클러스터 정상 동작
- **2주차**: 커스텀 Docker 이미지를 쿠버네티스에 배포
- **3주차**: Git push시 자동 배포 파이프라인 동작
- **4주차**: 완전한 모니터링 대시보드 구축

**최종 목표**: 실제 운영 환경에서 사용할 수 있는 **완전한 컨테이너 인프라 환경** 구축 🎯

---

*이 계획으로 하루 3-4시간 투자시 **95% 달성 가능**합니다!*